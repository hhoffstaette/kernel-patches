
--- linux-6.3.4/fs/btrfs/sysfs.c~	2023-05-24 18:30:25.000000000 +0200
+++ linux-6.3.4/fs/btrfs/sysfs.c	2023-05-26 22:30:00.339877696 +0200
@@ -818,7 +818,6 @@ static ssize_t btrfs_size_classes_show(s
 			       none, small, medium, large);
 }
 
-#ifdef CONFIG_BTRFS_DEBUG
 /*
  * Request chunk allocation with current chunk size.
  */
@@ -862,7 +861,6 @@ static ssize_t btrfs_force_chunk_alloc_s
 }
 BTRFS_ATTR_W(space_info, force_chunk_alloc, btrfs_force_chunk_alloc_store);
 
-#endif
 
 SPACE_INFO_ATTR(flags);
 SPACE_INFO_ATTR(total_bytes);
@@ -929,9 +929,7 @@ static struct attribute *space_info_attrs[] = {
 	BTRFS_ATTR_PTR(space_info, bg_reclaim_threshold),
 	BTRFS_ATTR_PTR(space_info, chunk_size),
 	BTRFS_ATTR_PTR(space_info, size_classes),
-#ifdef CONFIG_BTRFS_DEBUG
	BTRFS_ATTR_PTR(space_info, force_chunk_alloc),
-#endif
 	NULL,
 };
 ATTRIBUTE_GROUPS(space_info);
